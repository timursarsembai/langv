# DEV_LOG ‚Äî LangV Player

> –ñ—É—Ä–Ω–∞–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏: –∑–∞–ø–∏—Å—ã–≤–∞–π –∫–∞–∂–¥—É—é —Ä–µ—à–µ–Ω–Ω—É—é –ø—Ä–æ–±–ª–µ–º—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
> **–ü—Ä–æ–±–ª–µ–º–∞ ‚Üí –ü—Ä–∏—á–∏–Ω–∞ ‚Üí –†–µ—à–µ–Ω–∏–µ**

---

## üìÖ 2026-01-09 ‚Äî –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

### ‚úÖ –®–∞–≥ 0: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø—Ä–∞–≤–∏–ª–∞

**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫:**
- –ü–ª–∞—Ç—Ñ–æ—Ä–º–∞: .NET 8 (WPF)
- –í–∏–¥–µ–æ-–¥–≤–∏–∂–æ–∫: Mpv.NET
- –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö: Microsoft.Data.Sqlite
- –°–µ—Ä–∏–∞–ª–∏–∑–∞—Ü–∏—è: Newtonsoft.Json
- –≠–∫—Å–ø–æ—Ä—Ç –≤ Anki: AnkiNet

**–ü—Ä–∞–≤–∏–ª–∞ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:**
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ –∫–æ–¥–µ: –∞–Ω–≥–ª–∏–π—Å–∫–∏–π + —Ä—É—Å—Å–∫–∏–π
- –û—Ç–≤–µ—Ç—ã –∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞: —Ä—É—Å—Å–∫–∏–π —è–∑—ã–∫
- –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å: —Ç–µ–º–Ω–∞—è —Ç–µ–º–∞, –±–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞–º–æ–∫ –æ–∫–Ω–∞

---

## üêõ –†–µ—à–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ –Ω–∞–π–¥–µ–Ω—ã NuGet –ø–∞–∫–µ—Ç—ã –ø—Ä–∏ —É—Å—Ç–∞–Ω–æ–≤–∫–µ
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π –∏—Å—Ç–æ—á–Ω–∏–∫ nuget.org –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ NuGet
- **–†–µ—à–µ–Ω–∏–µ:** `dotnet nuget add source https://api.nuget.org/v3/index.json -n nuget.org`
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç —Ç–∏–ø–æ–≤ WPF –∏ WinForms
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ –≤–∫–ª—é—á–µ–Ω–∏–∏ `UseWindowsForms` –¥–ª—è —Ö–æ—Å—Ç–∏–Ω–≥–∞ MPV –≤–æ–∑–Ω–∏–∫–ª–∏ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –∏–º–µ–Ω (Panel, OpenFileDialog, KeyEventArgs, Application)
- **–†–µ—à–µ–Ω–∏–µ:** –Ø–≤–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–∞ –∏–º–µ–Ω (`System.Windows.Forms.Panel`, `Microsoft.Win32.OpenFileDialog`, `System.Windows.Input.KeyEventArgs`, `System.Windows.Application`)
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: Mpv.NET –Ω–µ —Å–æ–≤–º–µ—Å—Ç–∏–º —Å –Ω–æ–≤–æ–π –≤–µ—Ä—Å–∏–µ–π mpv
- **–ü—Ä–∏—á–∏–Ω–∞:** –§—É–Ω–∫—Ü–∏—è `mpv_detach_destroy` –±—ã–ª–∞ —É–¥–∞–ª–µ–Ω–∞ –∏–∑ API libmpv –≤ –Ω–æ–≤—ã—Ö –≤–µ—Ä—Å–∏—è—Ö (–∑–∞–º–µ–Ω–µ–Ω–∞ –Ω–∞ `mpv_destroy`)
- **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ LibVLCSharp + VideoLAN.LibVLC.Windows –∫–∞–∫ –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω—É—é –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—É
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ—Å–ª–µ –æ–∫–æ–Ω—á–∞–Ω–∏—è –≤–∏–¥–µ–æ –Ω–µ–ª—å–∑—è –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏ –∑–∞–Ω–æ–≤–æ
- **–ü—Ä–∏—á–∏–Ω–∞:** VLC –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–µ Ended, –∏ –ø—Ä–æ—Å—Ç–æ–π –≤—ã–∑–æ–≤ Play() –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä–∫–∞ VLCState.Ended –≤ TogglePlayPause() –∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –º–µ–¥–∏–∞ —á–µ—Ä–µ–∑ LoadVideo(_currentVideoPath)
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω—ã–π —Ä–µ–∂–∏–º —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ –∫–Ω–æ–ø–∫—É
- **–ü—Ä–∏—á–∏–Ω–∞:** –û—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–≤–æ–π–Ω–æ–≥–æ –∫–ª–∏–∫–∞ –Ω–∞ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–µ–æ
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω VideoArea_MouseLeftButtonDown —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π e.ClickCount == 2 –¥–ª—è –≤—ã–∑–æ–≤–∞ ToggleFullscreen()
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –Ω–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ –±—ã–ª–æ –ª–æ–≥–∏–∫–∏ –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –º—ã—à–∏ –∏ –ø–æ–∫–∞–∑–∞/—Å–∫—Ä—ã—Ç–∏—è –ø–∞–Ω–µ–ª–∏
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω DispatcherTimer _controlPanelTimer —Å 3-—Å–µ–∫—É–Ω–¥–Ω—ã–º –∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–º, –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ VideoArea_MouseMove –¥–ª—è –ø–æ–∫–∞–∑–∞ –ø–∞–Ω–µ–ª–∏ –∏ —Å–±—Ä–æ—Å–∞ —Ç–∞–π–º–µ—Ä–∞
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: LibVLCSharp WPF Airspace ‚Äî –º—ã—à—å –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤–µ—Ä—Ö –≤–∏–¥–µ–æ
- **–ü—Ä–∏—á–∏–Ω–∞:** WPF Airspace issue ‚Äî WPF —ç–ª–µ–º–µ–Ω—Ç—ã –Ω–µ –ø–æ–ª—É—á–∞—é—Ç —Å–æ–±—ã—Ç–∏—è –º—ã—à–∏ –ø–æ–≤–µ—Ä—Ö WinForms –∫–æ–Ω—Ç—Ä–æ–ª–∞ VideoView
- **–†–µ—à–µ–Ω–∏–µ:** –ü—Ä–æ–∑—Ä–∞—á–Ω—ã–π Grid overlay –í–ù–£–¢–†–ò VideoView —Å Background="#01000000" (–ø–æ—á—Ç–∏ –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π, –Ω–æ –Ω–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é) –ø–æ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ LibVLCSharp
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–±–µ–ª –∞–∫—Ç–∏–≤–∏—Ä—É–µ—Ç –ø–æ—Å–ª–µ–¥–Ω—é—é –Ω–∞–∂–∞—Ç—É—é –∫–Ω–æ–ø–∫—É –≤–º–µ—Å—Ç–æ –ø–∞—É–∑—ã
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö–Ω–æ–ø–∫–∏ –ø–æ–ª—É—á–∞—é—Ç —Ñ–æ–∫—É—Å –ø—Ä–∏ –∫–ª–∏–∫–µ, –∏ –ü—Ä–æ–±–µ–ª —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–∞–∫ –∏—Ö –∞–∫—Ç–∏–≤–∞—Ü–∏—è
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω Focusable="False" –¥–ª—è –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫, —Å–ª–∞–π–¥–µ—Ä–æ–≤ –∏ ToggleButton
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ö–ª–∏–∫ –ø–æ —Å–ª–∞–π–¥–µ—Ä—É —Ç–∞–π–º–ª–∞–π–Ω–∞ –Ω–µ –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç –±–µ–≥—É–Ω–æ–∫
- **–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ Slider ‚Äî —Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω IsMoveToPointEnabled="True" –∏ —Ä–∞—Å—á–µ—Ç –ø–æ–∑–∏—Ü–∏–∏ –ø—Ä–∏ PreviewMouseDown
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –í–∏–¥–∂–µ—Ç—ã Windows 11 –≤–∏–¥–Ω—ã –≤ –ø–æ–ª–Ω–æ—ç–∫—Ä–∞–Ω–Ω–æ–º —Ä–µ–∂–∏–º–µ
- **–ü—Ä–∏—á–∏–Ω–∞:** WindowState.Maximized –Ω–µ –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–µ—Ç –≤–∏–¥–∂–µ—Ç—ã –∏ –ø–∞–Ω–µ–ª—å –∑–∞–¥–∞—á –ø–æ–ª–Ω–æ—Å—Ç—å—é
- **–†–µ—à–µ–Ω–∏–µ:** –†—É—á–Ω–æ–µ –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ–∫–Ω–∞ —á–µ—Ä–µ–∑ Screen.FromHandle().Bounds —Å Topmost=true
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –ø–æ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–µ–æ
- **–ü—Ä–∏—á–∏–Ω–∞:** VideoView (WinForms –∫–æ–Ω—Ç—Ä–æ–ª) –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç —Ñ–æ–∫—É—Å
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω this.Focus() –ø—Ä–∏ –∫–ª–∏–∫–µ –ø–æ VideoOverlay
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–µ–Ω—é –≤—ã–≥–ª—è–¥–∏—Ç –∫–∞–∫ Windows 95 —Å –±–µ–ª—ã–º–∏ –≥—Ä–∞–Ω–∏—Ü–∞–º–∏
- **–ü—Ä–∏—á–∏–Ω–∞:** –°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–µ —Å—Ç–∏–ª–∏ WPF Menu/MenuItem
- **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω—ã–π ControlTemplate –¥–ª—è MenuItem —Å —Ç—ë–º–Ω–æ–π —Ç–µ–º–æ–π, –∑–∞–∫—Ä—É–≥–ª—ë–Ω–Ω—ã–º–∏ —É–≥–ª–∞–º–∏, —Ç–µ–Ω—å—é –∏ –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∑–≤—É–∫–∞ –≤ AVI —Ñ–∞–π–ª–∞—Ö —Å AC3 –∞—É–¥–∏–æ
- **–ü—Ä–∏—á–∏–Ω–∞:** NuGet –ø–∞–∫–µ—Ç VideoLAN.LibVLC.Windows –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç –¥–µ–∫–æ–¥–µ—Ä AC3/A52 –∏–∑-–∑–∞ –ø–∞—Ç–µ–Ω—Ç–Ω—ã—Ö –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π Dolby
- **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø–æ–ª–Ω–æ–π –≤–µ—Ä—Å–∏–∏ VLC Media Player (Core.Initialize(@"C:\Program Files\VideoLAN\VLC")) –≤–º–µ—Å—Ç–æ NuGet –ø–∞–∫–µ—Ç–∞
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –ø–æ –∫–ª–∏–∫—É –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ ‚Äî –ø–æ–∑–∏—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –Ω–∞–∑–∞–¥
- **–ü—Ä–∏—á–∏–Ω–∞:** Race condition ‚Äî —Ç–∞–π–º–µ—Ä –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–∑–∞–ø–∏—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞ –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è seek –æ–ø–µ—Ä–∞—Ü–∏–∏ VLC
- **–†–µ—à–µ–Ω–∏–µ:** –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –æ–∂–∏–¥–∞–µ–º–æ–π –ø–æ–∑–∏—Ü–∏–∏ `_pendingSeekPosition` –∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π –ø–æ–∫–∞ `Math.Abs(currentTime - _pendingSeekPosition) < SeekToleranceMs` (2000–º—Å). –§–ª–∞–≥ `_isSeekPending` —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ VLC –¥–æ—Å—Ç–∏–≥–∞–µ—Ç —Ü–µ–ª–µ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏.
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: Pin (–í—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö) –Ω–µ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- **–ü—Ä–∏—á–∏–Ω–∞:** WindowHelper.SetAlwaysOnTop –≤—ã–∑—ã–≤–∞–ª—Å—è –≤ Window_Loaded, –∫–æ–≥–¥–∞ hwnd –º–æ–≥ –±—ã—Ç—å –µ—â—ë –Ω–µ –≥–æ—Ç–æ–≤ (IntPtr.Zero)
- **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–Ω–æ—Å –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è AlwaysOnTop –≤ —Å–æ–±—ã—Ç–∏–µ `SourceInitialized` –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ, –≥–¥–µ hwnd –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞–Ω–Ω–æ —Å–æ–∑–¥–∞–Ω
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –ø–æ –∫–ª–∏–∫—É –≤—Å—ë –µ—â—ë –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ (v2)
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–µ–¥—ã–¥—É—â–µ–µ —Ä–µ—à–µ–Ω–∏–µ —Å polling —Ç–∞–π–º–µ—Ä–æ–º (DispatcherTimer 250–º—Å) —Å–æ–∑–¥–∞–≤–∞–ª–æ race condition ‚Äî —Ç–∞–π–º–µ—Ä –º–æ–≥ –æ–±–Ω–æ–≤–∏—Ç—å —Å–ª–∞–π–¥–µ—Ä —Å—Ç–∞—Ä—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º –¥–æ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è seek –æ–ø–µ—Ä–∞—Ü–∏–∏ VLC
- **–†–µ—à–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Ä–∞–±–æ—Ç–∫–∞ ‚Äî —É–±—Ä–∞–Ω polling —Ç–∞–π–º–µ—Ä `_positionTimer`, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è —Å–æ–±—ã—Ç–∏–µ `TimeChanged` –æ—Ç VLC MediaPlayer. –¢–µ–ø–µ—Ä—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –∫–æ–≥–¥–∞ VLC —Å–∞–º —Å–æ–æ–±—â–∞–µ—Ç –æ –Ω–æ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —Ç–æ–ª—å–∫–æ –ø–æ —Ñ–ª–∞–≥—É `_isDraggingSlider`.
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –ø–æ –∫–ª–∏–∫—É –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ (v3) ‚Äî –ª–µ–≤—ã–π –∫–ª–∏–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–æ–∑–∏—Ü–∏—é –Ω–∞–∑–∞–¥
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É –Ω–∞—à–∏–º `PreviewMouseDown` –∏ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º WPF Slider —Å `IsMoveToPointEnabled="True"`. Slider —Å–∞–º –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∏–∫, –Ω–∞—á–∏–Ω–∞–µ—Ç "drag" –æ–ø–µ—Ä–∞—Ü–∏—é, –∏ –ø—Ä–∏ –æ—Ç–ø—É—Å–∫–∞–Ω–∏–∏ –º—ã—à–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ. –¢–∞–∫–∂–µ seek –≤—ã–∑—ã–≤–∞–ª—Å—è –¥–≤–∞–∂–¥—ã (–≤ MouseDown –∏ MouseUp), —á—Ç–æ –≤—ã–∑—ã–≤–∞–ª–æ "—Ä—ã–≤–∫–∏".
- **–†–µ—à–µ–Ω–∏–µ:** 
  1. –î–æ–±–∞–≤–ª–µ–Ω `e.Handled = true` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ Slider
  2. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `CaptureMouse()` / `ReleaseMouseCapture()` –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è drag
  3. Seek (`_mediaPlayer.Time`) –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑ –≤ `MouseUp`
  4. –î–æ–±–∞–≤–ª–µ–Ω `PreviewMouseMove` –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å–ª–∞–π–¥–µ—Ä–∞ –≤–æ –≤—Ä–µ–º—è –ø–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏—è
  5. –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–æ–ª—å–∫–æ –ª–µ–≤–æ–π –∫–Ω–æ–ø–∫–∏ –º—ã—à–∏ (`e.ChangedButton == MouseButton.Left`)
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –∫–ª–∏–∫–æ–º –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç (v4) ‚Äî –±–µ–≥—É–Ω–æ–∫ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è, –∫–∞–¥—Ä –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è
- **–ü—Ä–∏—á–∏–Ω–∞:** –ú–µ–∂–¥—É `MouseDown` –∏ `MouseUp` —Å–æ–±—ã—Ç–∏–µ `TimeChanged` –æ—Ç VLC —É—Å–ø–µ–≤–∞–ª–æ —Å–±—Ä–æ—Å–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ —Å–ª–∞–π–¥–µ—Ä–∞ –æ–±—Ä–∞—Ç–Ω–æ –∫ —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–∏ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏—è (Dispatcher.Invoke —Ä–∞–±–æ—Ç–∞–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ).
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `_seekTargetPosition` –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ü–µ–ª–µ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏ –ø–µ—Ä–µ–º–æ—Ç–∫–∏
  2. –í `MouseDown` —Å–æ—Ö—Ä–∞–Ω—è–µ–º —Ü–µ–ª–µ–≤—É—é –ø–æ–∑–∏—Ü–∏—é –≤ `_seekTargetPosition`
  3. –í `MouseUp` –∏—Å–ø–æ–ª—å–∑—É–µ–º —Å–æ—Ö—Ä–∞–Ω—ë–Ω–Ω—É—é `_seekTargetPosition` –¥–ª—è seek (–∞ –Ω–µ `TimelineSlider.Value`)
  4. –í `TimeChanged` –ø—Ä–æ–≤–µ—Ä—è–µ–º `_seekTargetPosition >= 0` –¥–ª—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
  5. –ü–æ—Å–ª–µ seek —Å–±—Ä–∞—Å—ã–≤–∞–µ–º `_seekTargetPosition = -1`
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–µ—Ä–µ–º–æ—Ç–∫–∞ –ø–æ –∫–ª–∏–∫—É –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–∞ (v5 –§–ò–ù–ê–õ–¨–ù–û–ï –†–ï–®–ï–ù–ò–ï)
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–µ–∂–¥—É —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º WPF Slider (`IsMoveToPointEnabled`, –≤–Ω—É—Ç—Ä–µ–Ω–Ω—è—è –ª–æ–≥–∏–∫–∞ drag) –∏ –Ω–∞—à–∏–º–∏ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞–º–∏ `PreviewMouseDown`. Slider –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª —Å–æ–±—ã—Ç–∏—è –∏ —Å–±—Ä–∞—Å—ã–≤–∞–ª –∑–Ω–∞—á–µ–Ω–∏—è.
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –£–±—Ä–∞–Ω `IsMoveToPointEnabled="True"` –∏–∑ XAML
  2. –£–±—Ä–∞–Ω `PreviewMouseDown` –∏–∑ XAML
  3. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `AddHandler` —Å `handledEventsToo = true` –¥–ª—è –ø–µ—Ä–µ—Ö–≤–∞—Ç–∞ —Å–æ–±—ã—Ç–∏—è `MouseLeftButtonDown` –¥–∞–∂–µ –ø–æ—Å–ª–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ Slider
  4. –û–±—Ä–∞–±–æ—Ç—á–∏–∫ `TimelineSlider_TrackMouseDown` –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–ª–∏–∫ –Ω–∞ thumb –∏ –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç –µ–≥–æ (thumb –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `DragStarted/DragCompleted`)
  5. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `_mediaPlayer.Position` (0.0-1.0) –≤–º–µ—Å—Ç–æ `_mediaPlayer.Time` –¥–ª—è –ª—É—á—à–µ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å MKV
  6. –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π —á–µ—Ä–µ–∑ `_pendingSeekPosition` –¥–æ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è VLC —Ü–µ–ª–µ–≤–æ–π –ø–æ–∑–∏—Ü–∏–∏
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ó–∞–≤–∏—Å–∞–Ω–∏–µ –ø—Ä–∏ –æ—Ç–∫—Ä—ã—Ç–∏–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –ø–æ–¥—Ä—è–¥
- **–ü—Ä–∏—á–∏–Ω–∞:** –û–±—ä–µ–∫—Ç `Media` –Ω–µ –æ—Å–≤–æ–±–æ–∂–¥–∞–ª—Å—è –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ, —á—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —É—Ç–µ—á–∫–µ –ø–∞–º—è—Ç–∏ –∏ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—é —Ä–µ—Å—É—Ä—Å–æ–≤
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `_currentMedia` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–≥–æ –æ–±—ä–µ–∫—Ç–∞ Media
  2. –í `LoadVideo()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è `_mediaPlayer.Stop()` –∏ `_currentMedia?.Dispose()` –ø–µ—Ä–µ–¥ —Å–æ–∑–¥–∞–Ω–∏–µ–º –Ω–æ–≤–æ–≥–æ Media
  3. –í `Window_Closing()` –¥–æ–±–∞–≤–ª–µ–Ω `_currentMedia?.Dispose()` –¥–ª—è –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—è –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
  4. –°–±—Ä–æ—Å `_pendingSeekPosition = -1` –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –Ω–æ–≤–æ–≥–æ –≤–∏–¥–µ–æ
- **–î–∞—Ç–∞:** 2026-01-09

### –ü—Ä–æ–±–ª–µ–º–∞: –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç –ø–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –ø–ª–µ–π–ª–∏—Å—Ç–∞
- **–ü—Ä–∏—á–∏–Ω–∞:** –ö–æ–≥–¥–∞ —Ñ–æ–∫—É—Å –Ω–∞ ListBox –ø–ª–µ–π–ª–∏—Å—Ç–∞, –æ–Ω –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –∫–ª–∞–≤–∏—à—É Space (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ ‚Äî –≤—ã–¥–µ–ª–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞) —Ä–∞–Ω—å—à–µ, —á–µ–º –æ–∫–Ω–æ —É—Å–ø–µ–≤–∞–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å `KeyDown`
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –ó–∞–º–µ–Ω—ë–Ω `KeyDown="Window_KeyDown"` –Ω–∞ `PreviewKeyDown="Window_PreviewKeyDown"` –≤ XAML
  2. –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `Window_KeyDown` ‚Üí `Window_PreviewKeyDown`
  3. `PreviewKeyDown` ‚Äî —Å–æ–±—ã—Ç–∏–µ —Ç—É–Ω–Ω–µ–ª–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä–æ–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –Ω–∞ –æ–∫–Ω–µ –î–û –¥–æ—á–µ—Ä–Ω–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
- **–î–∞—Ç–∞:** 2026-01-09

---
## üìÖ 2026-01-10 ‚Äî –°—Ç–∞–±–∏–ª–∏–∑–∞—Ü–∏—è –∏ –º–∏–Ω–∏–∞—Ç—é—Ä—ã

### –ü—Ä–æ–±–ª–µ–º–∞: –ú–∏–Ω–∏–∞—Ç—é—Ä—ã –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ (thumbnails) ‚Äî –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–µ—É–¥–∞—á–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫
- **–ü—Ä–∏—á–∏–Ω–∞:** –†–∞–∑–ª–∏—á–Ω—ã–µ –ø–æ–¥—Ö–æ–¥—ã –≤—ã–∑—ã–≤–∞–ª–∏ –∫—Ä–∞—à–∏ –ø–ª–µ–µ—Ä–∞:
  1. Buffer-based rendering —Å `SetVideoCallbacks` ‚Äî –ø—Ä–æ–±–ª–µ–º—ã —Å –ø–∞–º—è—Ç—å—é
  2. TakeSnapshot —Å hidden Panel ‚Äî –∫—Ä–∞—à –ø—Ä–∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–∏ —Ñ–∞–π–ª–æ–≤
  3. WinForms Panel –≤ WPF –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ ‚Äî –∫—Ä–∞—à –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω
- **–†–µ—à–µ–Ω–∏–µ:** –û—Ç–∫–∞—Ç –∫ —Å—Ç–∞–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ –±–µ–∑ –º–∏–Ω–∏–∞—Ç—é—Ä (commit 156dbda). –§—É–Ω–∫—Ü–∏—è —Ç—Ä–µ–±—É–µ—Ç –±–æ–ª–µ–µ –≥–ª—É–±–æ–∫–æ–≥–æ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏–ª–∏ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ–≥–æ –ø–æ–¥—Ö–æ–¥–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, ffmpeg –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–∞–¥—Ä–æ–≤).
- **–î–∞—Ç–∞:** 2026-01-10

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–ª–µ–µ—Ä –∑–∞–≤–∏—Å–∞–µ—Ç –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
- **–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ—Å–∫–æ–ª—å–∫–æ —Ñ–∞–∫—Ç–æ—Ä–æ–≤:
  1. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `Dispatcher.Invoke()` (—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π) –≤ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞—Ö —Å–æ–±—ã—Ç–∏–π VLC ‚Äî –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞ –ø—Ä–∏ –∑–∞–∫—Ä—ã—Ç–∏–∏
  2. –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π VLC –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏ –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ UI –≤–æ –≤—Ä–µ–º—è Dispose
  3. –ù–µ –±—ã–ª–æ –æ—Ç–ø–∏—Å–∫–∏ –æ—Ç —Å–æ–±—ã—Ç–∏–π VLC –ø–µ—Ä–µ–¥ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –î–æ–±–∞–≤–ª–µ–Ω —Ñ–ª–∞–≥ `volatile bool _isClosing` ‚Äî —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –≤ –Ω–∞—á–∞–ª–µ `Window_Closing`
  2. –í—Å–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ —Å–æ–±—ã—Ç–∏–π VLC –ø—Ä–æ–≤–µ—Ä—è—é—Ç `if (_isClosing) return;` –≤ –Ω–∞—á–∞–ª–µ –∏ –≤–Ω—É—Ç—Ä–∏ Dispatcher callback
  3. –ó–∞–º–µ–Ω—ë–Ω `Dispatcher.Invoke()` –Ω–∞ `Dispatcher.BeginInvoke()` (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π) ‚Äî –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç deadlock
  4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ—Ç–ø–∏—Å–∫–∞ –æ—Ç –≤—Å–µ—Ö —Å–æ–±—ã—Ç–∏–π (`Playing`, `Paused`, `Stopped`, `EndReached`, `LengthChanged`, `TimeChanged`) –ø–µ—Ä–µ–¥ `_mediaPlayer.Stop()`
  5. –û—Å—Ç–∞–Ω–æ–≤–∫–∞ `_controlPanelTimer` –ø–µ—Ä–µ–¥ –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏–µ–º —Ä–µ—Å—É—Ä—Å–æ–≤
  6. –û–±—ë—Ä–Ω—É—Ç—ã –≤—Å–µ `Dispose()` –≤—ã–∑–æ–≤—ã –≤ try-catch –¥–ª—è –∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏—è –æ—à–∏–±–æ–∫
- **–î–∞—Ç–∞:** 2026-01-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ: –ú–∏–Ω–∏–∞—Ç—é—Ä—ã –Ω–∞ —Ç–∞–π–º–ª–∞–π–Ω–µ (—Å—Ç–∞–±–∏–ª—å–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è)
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–µ–≤—å—é –º–∏–Ω–∏–∞—Ç—é—Ä –ø—Ä–∏ –Ω–∞–≤–µ–¥–µ–Ω–∏–∏ –Ω–∞ —Å–ª–∞–π–¥–µ—Ä —Ç–∞–π–º–ª–∞–π–Ω–∞
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
  1. `ThumbnailService` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç FFmpeg –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–Ω–∏–∞—Ç—é—Ä (–≤–Ω–µ—à–Ω—è—è —É—Ç–∏–ª–∏—Ç–∞, –±–æ–ª–µ–µ —Å—Ç–∞–±–∏–ª—å–Ω–∞—è)
  2. Graceful degradation ‚Äî –µ—Å–ª–∏ FFmpeg –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è (–ø–ª–µ–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å)
  3. –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å –Ω–µ–±–ª–æ–∫–∏—Ä—É—é—â–∏–º –ø–æ–ª—É—á–µ–Ω–∏–µ–º —Å–µ–º–∞—Ñ–æ—Ä–∞ ‚Äî UI –Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è
  4. –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –º–∏–Ω–∏–∞—Ç—é—Ä (–¥–æ 60 —à—Ç—É–∫, –∏–Ω—Ç–µ—Ä–≤–∞–ª 10 —Å–µ–∫) –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–≤—Ç–æ—Ä–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
  5. CancellationToken –æ—Ç–º–µ–Ω—è–µ—Ç –ø—Ä–µ–¥—ã–¥—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–º –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏–∏ –º—ã—à–∏
  6. Popup —Å –º–∏–Ω–∏–∞—Ç—é—Ä–æ–π (200x112) –∏ –≤—Ä–µ–º–µ–Ω–µ–º –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è –Ω–∞–¥ —Å–ª–∞–π–¥–µ—Ä–æ–º
- **–¢—Ä–µ–±–æ–≤–∞–Ω–∏—è:** FFmpeg –≤ PATH –∏–ª–∏ –≤ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã—Ö —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏—è—Ö –¥–ª—è —Ä–∞–±–æ—Ç—ã –º–∏–Ω–∏–∞—Ç—é—Ä
- **–î–∞—Ç–∞:** 2026-01-10

### –£–ª—É—á—à–µ–Ω–∏–µ: Fallback —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è –º–∏–Ω–∏–∞—Ç—é—Ä H.264/MKV
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –£–ª—É—á—à–µ–Ω–∞ –Ω–∞–¥—ë–∂–Ω–æ—Å—Ç—å –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –º–∏–Ω–∏–∞—Ç—é—Ä –¥–ª—è —Ñ–∞–π–ª–æ–≤ —Å H.264/HEVC –∫–æ–¥–µ–∫–∞–º–∏
- **–ò–∑–º–µ–Ω–µ–Ω–∏—è:**
  1. –£–≤–µ–ª–∏—á–µ–Ω PreSeekMs —Å 5 –¥–æ 15 —Å–µ–∫—É–Ω–¥ ‚Äî –±–æ–ª—å—à–µ —à–∞–Ω—Å–æ–≤ –Ω–∞–π—Ç–∏ keyframe –¥–ª—è H.264
  2. –î–æ–±–∞–≤–ª–µ–Ω fallback –º–µ—Ö–∞–Ω–∏–∑–º ‚Äî –µ—Å–ª–∏ combined seek –Ω–µ —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª, –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è output-only seek (–º–µ–¥–ª–µ–Ω–Ω–µ–µ, –Ω–æ –Ω–∞–¥—ë–∂–Ω–µ–µ)
  3. –†–∞–∑–¥–µ–ª—ë–Ω –º–µ—Ç–æ–¥ –Ω–∞ `GenerateThumbnailWithFFmpeg()` (–æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞) –∏ `TryGenerateThumbnail()` (–æ–¥–Ω–∞ –ø–æ–ø—ã—Ç–∫–∞)
  4. –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏ –ø—Ä–æ–±–ª–µ–º
- **–ü—Ä–∏–Ω—Ü–∏–ø:** Stability first ‚Äî –µ—Å–ª–∏ –ø–µ—Ä–≤–∞—è –ø–æ–ø—ã—Ç–∫–∞ –Ω–µ —É–¥–∞–ª–∞—Å—å, –µ—Å—Ç—å –≤—Ç–æ—Ä–∞—è; –µ—Å–ª–∏ –æ–±–µ –Ω–µ —É–¥–∞–ª–∏—Å—å, –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –≤—Ä–µ–º—è
- **–î–∞—Ç–∞:** 2026-01-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ: –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π/PiP —Ä–µ–∂–∏–º
- **–û–ø–∏—Å–∞–Ω–∏–µ:** –ú–∞–ª–µ–Ω—å–∫–æ–µ –æ–∫–Ω–æ –ø–ª–µ–µ—Ä–∞ (400x225) –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –≤–∏–¥–µ–æ –ø–æ–≤–µ—Ä—Ö –¥—Ä—É–≥–∏—Ö –æ–∫–æ–Ω –Ω–∞ –≤—Å–µ—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–∞—Ö
- **–†–µ–∞–ª–∏–∑–∞—Ü–∏—è:**
  1. –ì–æ—Ä—è—á–∞—è –∫–ª–∞–≤–∏—à–∞ `P` –∏–ª–∏ –∫–Ω–æ–ø–∫–∞ –≤ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  2. –ü—É–Ω–∫—Ç –º–µ–Ω—é "–í–∏–¥ ‚Üí –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º"
  3. –û–∫–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è 400x225 (16:9), –±–µ–∑ TitleBar, –±–µ–∑ –ø–∞–Ω–µ–ª–∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
  4. –í—Å–µ–≥–¥–∞ –ø–æ–≤–µ—Ä—Ö –≤—Å–µ—Ö –æ–∫–æ–Ω (Topmost)
  5. –û—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –Ω–∞ –í–°–ï–• –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–∞—Ö Windows —á–µ—Ä–µ–∑ WS_EX_TOOLWINDOW
  6. –ü–µ—Ä–µ—Ç–∞—Å–∫–∏–≤–∞–Ω–∏–µ –∑–∞ –ª—é–±—É—é –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–µ–æ (DragMove)
  7. –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –∏–ª–∏ Esc/P ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞
  8. –°–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–µ–¥—ã–¥—É—â–∏–µ —Ä–∞–∑–º–µ—Ä—ã/–ø–æ–∑–∏—Ü–∏—è –æ–∫–Ω–∞ –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è
- **API:** `WS_EX_TOOLWINDOW` —Å—Ç–∏–ª—å –æ–∫–Ω–∞ ‚Äî tool windows –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –Ω–∞ –≤—Å–µ—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–∞—Ö
- **–î–∞—Ç–∞:** 2026-01-10

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (v2)
- **–ü—Ä–æ–±–ª–µ–º—ã:**
  1. –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞–ª–∏ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –∫–ª–∏–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ
  2. –û–∫–Ω–æ –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–ª–æ—Å—å –Ω–∞ –≤—Å–µ—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–∞—Ö
  3. TitleBar –æ—Å—Ç–∞–≤–∞–ª—Å—è –≤–∏–¥–∏–º—ã–º –≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ
  4. –û–∫–Ω–æ –æ—Ç–∫—Ä—ã–≤–∞–ª–æ—Å—å –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ —ç–∫—Ä–∞–Ω–∞ (–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã)
- **–†–µ—à–µ–Ω–∏—è:**
  1. –î–æ–±–∞–≤–ª–µ–Ω –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `Window_Activated` —Å `this.Focus()` ‚Äî –≥–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –æ–∫–Ω–∞
  2. –ó–∞–º–µ–Ω—ë–Ω COM API –Ω–∞ `WS_EX_TOOLWINDOW` —Å—Ç–∏–ª—å ‚Äî tool windows –≤ Windows 10/11 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤–∏–¥–Ω—ã –Ω–∞ –≤—Å–µ—Ö –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö —Ä–∞–±–æ—á–∏—Ö —Å—Ç–æ–ª–∞—Ö
  3. –°–∫—Ä—ã—Ç–∏–µ `TitleBar.Visibility = Collapsed` –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–æ –≤ –Ω–∞—á–∞–ª–æ `EnterCompactMode()` –¥–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞
  4. –î–æ–±–∞–≤–ª–µ–Ω–∞ –∫–æ–Ω–≤–µ—Ä—Ç–∞—Ü–∏—è –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç —Å —É—á—ë—Ç–æ–º DPI —á–µ—Ä–µ–∑ `WindowHelper.GetDpiScale()` ‚Äî Screen.WorkingArea –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –ø–∏–∫—Å–µ–ª–∏, –∞ WPF –∏—Å–ø–æ–ª—å–∑—É–µ—Ç device-independent units
- **–î–∞—Ç–∞:** 2026-01-10

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –ü—Ä–æ–±–ª–µ–º—ã –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (v3)
- **–ü—Ä–æ–±–ª–µ–º—ã:**
  1. –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–ª–∏ –±–µ–∑ –∫–ª–∏–∫–∞ –Ω–∞ –≤–∏–¥–µ–æ-–æ–±–ª–∞—Å—Ç—å
  2. TitleBar –≤—Å—ë –µ—â—ë –∑–∞–Ω–∏–º–∞–ª –º–µ—Å—Ç–æ (RowDefinition —Å —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–π –≤—ã—Å–æ—Ç–æ–π 30px)
- **–†–µ—à–µ–Ω–∏—è:**
  1. –î–æ–±–∞–≤–ª–µ–Ω `PreviewMouseDown` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –Ω–∞ –≤—Å—ë –æ–∫–Ω–æ —Å `this.Focus()` ‚Äî —Ç–µ–ø–µ—Ä—å –ª—é–±–æ–π –∫–ª–∏–∫ –≤ –æ–∫–Ω–µ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç —Ñ–æ–∫—É—Å –¥–ª—è –≥–æ—Ä—è—á–∏—Ö –∫–ª–∞–≤–∏—à
  2. –î–æ–±–∞–≤–ª–µ–Ω `x:Name="TitleBarRow"` –∫ RowDefinition –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤—ã—Å–æ—Ç–æ–π:
     - –ü—Ä–∏ –≤—Ö–æ–¥–µ –≤ –∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ä–µ–∂–∏–º: `TitleBarRow.Height = new GridLength(0)`
     - –ü—Ä–∏ –≤—ã—Ö–æ–¥–µ: `TitleBarRow.Height = new GridLength(30)`
- **–î–∞—Ç–∞:** 2026-01-10

---

## üìÖ 2026-01-10 ‚Äî –®–∞–≥ 3A: –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –ü—É–Ω–∫—Ç—ã –º–µ–Ω—é –Ω–µ —Ä–µ–∞–≥–∏—Ä–æ–≤–∞–ª–∏ –Ω–∞ –∫–ª–∏–∫–∏ (–í–°–ï –º–µ–Ω—é)
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ö–ª–∏–∫ –Ω–∞ –ª—é–±–æ–π MenuItem (–Ω–µ —Ç–æ–ª—å–∫–æ —Å—É–±—Ç–∏—Ç—Ä—ã) –∑–∞–∫—Ä—ã–≤–∞–ª –º–µ–Ω—é –±–µ–∑ –≤—ã–∑–æ–≤–∞ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∞ Click
- **–ü—Ä–∏—á–∏–Ω–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `<MenuItem.Header><TextBlock Text="..."/></MenuItem.Header>` –≤–æ –í–°–ï–• –ø—É–Ω–∫—Ç–∞—Ö –º–µ–Ω—é –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ MenuItem –≤ WPF ‚Äî –≤–ª–æ–∂–µ–Ω–Ω—ã–π TextBlock –ø–µ—Ä–µ—Ö–≤–∞—Ç—ã–≤–∞–ª –∫–ª–∏–∫–∏, –Ω–µ –¥–∞–≤–∞—è –∏–º –¥–æ—Å—Ç–∏—á—å MenuItem
- **–†–µ—à–µ–Ω–∏–µ:** –ì–ª–æ–±–∞–ª—å–Ω–∞—è –∑–∞–º–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤—Å–µ—Ö MenuItem ‚Äî –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ø—Ä—è–º–æ–≥–æ –∞—Ç—Ä–∏–±—É—Ç–∞ `Header="..."` –≤–º–µ—Å—Ç–æ –≤–ª–æ–∂–µ–Ω–Ω–æ–≥–æ TextBlock:
  - –î–æ: `<MenuItem Click="..."><MenuItem.Header><TextBlock Text="–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª..."/></MenuItem.Header></MenuItem>`
  - –ü–æ—Å–ª–µ: `<MenuItem Header="–û—Ç–∫—Ä—ã—Ç—å —Ñ–∞–π–ª..." Click="..."/>`
- **–ó–∞—Ç—Ä–æ–Ω—É—Ç—ã:** –í—Å–µ –º–µ–Ω—é ‚Äî –§–∞–π–ª, –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ, –í–∏–¥, –°—É–±—Ç–∏—Ç—Ä—ã, –°–ø—Ä–∞–≤–∫–∞ –∏ –≤—Å–µ –ø–æ–¥–º–µ–Ω—é (—Å–∫–æ—Ä–æ—Å—Ç—å –∏ —Ç.–¥.)
- **–î–∞—Ç–∞:** 2026-01-10

### –î–æ–±–∞–≤–ª–µ–Ω–æ: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å—É–±—Ç–∏—Ç—Ä–æ–≤ VLC
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–ª–µ–µ—Ä –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞–ª –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã –∏–∑ –≤–∏–¥–µ–æ—Ñ–∞–π–ª–∞ (MKV –∏ –¥—Ä.), —Ö–æ—Ç—è VLC –∏—Ö –≤–∏–¥–µ–ª
- **–ü—Ä–∏—á–∏–Ω–∞:** –ü—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏ –ø—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –æ—Ç–∫–ª—é—á–∞–ª–∏—Å—å –≤—Å–µ —Å—É–±—Ç–∏—Ç—Ä—ã —á–µ—Ä–µ–∑ `SetSpu(-1)`, –∏ –Ω–µ –±—ã–ª–æ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ –¥–ª—è –≤—ã–±–æ—Ä–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö –¥–æ—Ä–æ–∂–µ–∫
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–¥–º–µ–Ω—é "–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã" –≤ –º–µ–Ω—é "–°—É–±—Ç–∏—Ç—Ä—ã"
  2. –§—É–Ω–∫—Ü–∏—è `UpdateEmbeddedSubtitlesMenu()` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞—ë—Ç —Å–ø–∏—Å–æ–∫ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö –¥–æ—Ä–æ–∂–µ–∫ —á–µ—Ä–µ–∑ `_mediaPlayer.SpuDescription`
  3. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `_selectedEmbeddedSubtitleId` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –≤—ã–±—Ä–∞–Ω–Ω–æ–π –¥–æ—Ä–æ–∂–∫–∏
  4. –õ–æ–≥–∏–∫–∞: –µ—Å–ª–∏ –∑–∞–≥—Ä—É–∂–µ–Ω—ã –≤–Ω–µ—à–Ω–∏–µ —Å—É–±—Ç–∏—Ç—Ä—ã (.srt), –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –æ—Ç–∫–ª—é—á–∞—é—Ç—Å—è. –ú–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∏–∑ –º–µ–Ω—é (—ç—Ç–æ –æ—á–∏—Å—Ç–∏—Ç –≤–Ω–µ—à–Ω–∏–µ)
- **–î–∞—Ç–∞:** 2026-01-10

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: PreviewMouseDown –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª –∫–ª–∏–∫–∏ –ø–æ –º–µ–Ω—é
- **–ü—Ä–æ–±–ª–µ–º–∞:** –ü–æ—Å–ª–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è `Window_PreviewMouseDown` –¥–ª—è —Ñ–æ–∫—É—Å–∞ –∫–ª–∞–≤–∏–∞—Ç—É—Ä—ã, –º–µ–Ω—é –ø–µ—Ä–µ—Å—Ç–∞–ª–æ —Ä–∞–±–æ—Ç–∞—Ç—å ‚Äî –∫–ª–∏–∫–∏ –ø–æ –ø—É–Ω–∫—Ç–∞–º –º–µ–Ω—é –Ω–µ —Å—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏
- **–ü—Ä–∏—á–∏–Ω–∞:** –í—ã–∑–æ–≤ `this.Focus()` –≤ `PreviewMouseDown` –∑–∞–±–∏—Ä–∞–ª —Ñ–æ–∫—É—Å —É Menu/MenuItem –≤ –º–æ–º–µ–Ω—Ç –∫–ª–∏–∫–∞, –∏–∑-–∑–∞ —á–µ–≥–æ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ Click –Ω–µ –≤—ã–∑—ã–≤–∞–ª—Å—è
- **–†–µ—à–µ–Ω–∏–µ:** –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –∏—Å—Ç–æ—á–Ω–∏–∫ –∫–ª–∏–∫–∞ ‚Äî –µ—Å–ª–∏ –∫–ª–∏–∫ –ø—Ä–æ–∏–∑–æ—à—ë–ª –Ω–∞ Menu, MenuItem –∏–ª–∏ Popup, `this.Focus()` –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è:
  ```csharp
  var source = e.OriginalSource as DependencyObject;
  while (source != null)
  {
      if (source is Menu || source is MenuItem || source is Popup)
          return; // Let menu handle the click
      source = VisualTreeHelper.GetParent(source);
  }
  this.Focus();
  ```
- **–î–∞—Ç–∞:** 2026-01-10

---

## üèÅ CHECKPOINT: –®–∞–≥ 3A ‚Äî –ë–∞–∑–æ–≤–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤

**–í–µ—Ä—Å–∏—è:** v0.3.0-subtitles-basic

**–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:**
- ‚úÖ –ú–æ–¥–µ–ª—å `SubtitleItem` –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- ‚úÖ –ü–∞—Ä—Å–µ—Ä `SrtParserService` —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π UTF-8/UTF-16, binary search
- ‚úÖ Overlay –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–≤—É—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã—Ö —Å—É–±—Ç–∏—Ç—Ä–æ–≤
- ‚úÖ –¢–∞–π–º–µ—Ä —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ (100–º—Å) —Å –≤–∏–¥–µ–æ
- ‚úÖ –ú–µ–Ω—é "–°—É–±—Ç–∏—Ç—Ä—ã" —Å –∑–∞–≥—Ä—É–∑–∫–æ–π/–ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ–º/–æ—á–∏—Å—Ç–∫–æ–π
- ‚úÖ –ê–≤—Ç–æ–∑–∞–≥—Ä—É–∑–∫–∞ —Å—É–±—Ç–∏—Ç—Ä–æ–≤ —Å —Ç–∞–∫–∏–º –∂–µ –∏–º–µ–Ω–µ–º –∫–∞–∫ –≤–∏–¥–µ–æ
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã—Ö —Å—É–±—Ç–∏—Ç—Ä–æ–≤ VLC (SPU tracks)
- ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ —Ä–∞–±–æ—Ç–∞ –≤—Å–µ–≥–æ –º–µ–Ω—é (–∫–ª–∏–∫–∏ —Ä–∞–±–æ—Ç–∞—é—Ç)

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø:** –®–∞–≥ 3B ‚Äî –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ —Å—É–±—Ç–∏—Ç—Ä—ã (–∫–ª–∏–∫–∞–±–µ–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞, —Å–ª–æ–≤–∞—Ä–∏, popup)

### –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ: –†–∞–∑–º–µ—Ä—ã —Å—É–±—Ç–∏—Ç—Ä–æ–≤ –∏ —Ä–µ—Å–∞–π–∑ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (v2)
- **–ü—Ä–æ–±–ª–µ–º–∞:**
  1. –°—É–±—Ç–∏—Ç—Ä—ã –≤ –æ–±—ã—á–Ω–æ–º —Ä–µ–∂–∏–º–µ –±—ã–ª–∏ "—Ç–æ–Ω–∫–∏–º–∏ —á–µ—Ä–Ω—ã–º–∏ –ø–æ–ª–æ—Å–∫–∞–º–∏" (–Ω–µ–≤–∏–¥–Ω—ã)
  2. –í –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ –Ω–µ–ª—å–∑—è –±—ã–ª–æ –∏–∑–º–µ–Ω–∏—Ç—å —Ä–∞–∑–º–µ—Ä –æ–∫–Ω–∞ –º—ã—à–∫–æ–π
- **–ü—Ä–∏—á–∏–Ω–∞:**
  1. `SubtitleOverlay_SizeChanged` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª –≤—ã—Å–æ—Ç—É `SubtitleOverlay` (–∫–æ—Ç–æ—Ä–∞—è –≤—Å–µ–≥–¥–∞ –º–∞–ª–µ–Ω—å–∫–∞—è) –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Ä–µ–∂–∏–º–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è, –∏–∑-–∑–∞ —á–µ–≥–æ –≤—Å–µ–≥–¥–∞ –ø—Ä–∏–º–µ–Ω—è–ª—Å—è –º–∞—Å—à—Ç–∞–± –¥–ª—è –∫–æ–º–ø–∞–∫—Ç–Ω–æ–≥–æ —Ä–µ–∂–∏–º–∞ (–∏ —à—Ä–∏—Ñ—Ç —Å—Ç–∞–Ω–æ–≤–∏–ª—Å—è ~3-4px).
  2. `VideoView` (WinForms –∫–æ–Ω—Ç—Ä–æ–ª) –ø–µ—Ä–µ–∫—Ä—ã–≤–∞–ª –∫—Ä–∞—è –æ–∫–Ω–∞ –≤ –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ, –±–ª–æ–∫–∏—Ä—É—è `WindowChrome` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞.
- **–†–µ—à–µ–Ω–∏–µ:**
  1. –õ–æ–≥–∏–∫–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ä–∞–∑–º–µ—Ä–∞ —à—Ä–∏—Ñ—Ç–∞ –ø–µ—Ä–µ–Ω–µ—Å–µ–Ω–∞ –≤ `UpdateSubtitleFontSize()` –∏ `Window_SizeChanged`, —Ç–µ–ø–µ—Ä—å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `this.ActualHeight` (–≤—ã—Å–æ—Ç–∞ –æ–∫–Ω–∞).
  2. –í –∫–æ–º–ø–∞–∫—Ç–Ω–æ–º —Ä–µ–∂–∏–º–µ `VideoArea` –ø–æ–ª—É—á–∞–µ—Ç `Margin="5"`, –æ—Å–≤–æ–±–æ–∂–¥–∞—è 5px –ø–æ –∫—Ä–∞—è–º –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ Resize Borders –æ–∫–Ω–∞.
- **–î–∞—Ç–∞:** 2026-01-10

---